# History Project

Интерактивная веб-платформа для визуализации исторических событий на карте с интеграцией Telegram-бота.

## Описание

Проект представляет собой веб-приложение, которое позволяет пользователям:
- Просматривать исторические события на интерактивной карте
- Фильтровать события по городам и временным периодам
- Получать информацию о событиях из Wikidata и Wikipedia
- Взаимодействовать с историческими данными через Telegram-бота

## Основные функции

### Веб-приложение
- Интерактивная карта с маркерами исторических событий
- Временная шкала для фильтрации событий по периодам
- Поиск событий по городам
- Детальная информация о каждом событии с ссылками на Wikipedia и Wikidata
- Система авторизации пользователей
- Сохранение пользовательских настроек

### Telegram-бот
- Получение исторических событий по запросу
- Передача событий на веб-платформу через URL-параметры
- Интеграция с Wikidata для получения структурированных данных
- Поддержка поиска событий по городам

## Технологии

### Фронтенд
- HTML5, CSS3, JavaScript
- Leaflet.js для интерактивной карты
- LocalStorage для хранения пользовательских данных

### Бэкенд
- Python
- Telegram Bot API
- Wikidata SPARQL API
- Wikipedia API

## Структура проекта

```
History-project/
├── app.js                 # Основной JavaScript файл веб-приложения
├── index.html            # Главная страница
├── styles.css            # Стили приложения
├── tg_bot/              # Директория с кодом Telegram-бота
│   ├── bot.py           # Основной файл бота
│   └── api_utils.py     # Утилиты для работы с API
└── README.md            # Документация проекта
```

## Установка и запуск

### Веб-приложение
1. Клонируйте репозиторий:
```bash
git clone https://github.com/yourusername/History-project.git
```

2. Откройте `index.html` в веб-браузере или используйте локальный сервер:
```bash
python -m http.server 8000
```

3. Откройте `http://localhost:8000` в браузере

### Telegram-бот
1. Установите зависимости:
```bash
pip install -r requirements.txt
```

2. Создайте файл `.env` с настройками:
```
TELEGRAM_BOT_TOKEN=your_bot_token
```

3. Запустите бота:
```bash
python tg_bot/bot.py
```

## Использование

### Веб-приложение
1. Зарегистрируйтесь или войдите в систему
2. Выберите город для поиска событий
3. Используйте временную шкалу для выбора периода
4. Кликайте на маркеры на карте для просмотра информации о событиях
5. Используйте список событий для быстрой навигации

### Telegram-бот
1. Найдите бота в Telegram по имени @your_bot_name
2. Отправьте команду `/start` для начала работы
3. Используйте команду `/event` для получения исторического события
4. Перейдите по ссылке в сообщении бота для просмотра события на карте

## Особенности реализации

### Работа с координатами
- Координаты событий получаются из Wikidata
- Для событий без координат используются координаты города
- Поддержка формата координат Point(lon lat) из Wikidata

### Интеграция с Wikidata
- SPARQL запросы для получения структурированных данных
- Фильтрация событий по городам и датам
- Получение описаний и дополнительной информации

### Интеграция с Wikipedia
- Получение расширенных описаний событий
- Извлечение дат из текста статей
- Кэширование данных для оптимизации запросов

## Ограничения
- Поддерживаются только города, представленные в Wikidata
- Временной период ограничен 1000-2000 годами
- Количество событий в результатах поиска ограничено

## Планы по развитию
- Добавление поддержки большего количества городов
- Расширение временного периода
- Улучшение алгоритмов поиска событий
- Добавление новых источников данных
- Улучшение визуализации на карте

## Лицензия

MIT License

## Авторы

- Ваше имя - разработчик

## Благодарности

- Wikidata за предоставление структурированных данных
- Wikipedia за богатый контент
- Leaflet.js за отличную библиотеку для работы с картами
- Telegram за API ботов 